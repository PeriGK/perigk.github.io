<!doctype html>
<html class="no-js" lang="{{ .Site.Language.Lang }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="author" content="{{ .Site.Params.author }}">
        <meta name="description" content="{{ .Site.Params.description }}">
        <meta name="keywords" content="{{ .Site.Params.keywords }}">
        {{ .Hugo.Generator }}

        <link rel="icon" type="image/png" href="{{ "favicon-32x32.png" | absURL }}" sizes="32x32">
        <link rel="icon" type="image/png" href="{{ "favicon-16x16.png" | absURL }}" sizes="16x16">

        <link rel="stylesheet" href="{{ "dist/theme.css" | absURL }}">

        {{ partial "twitter-card" . }}

        {{ if isset .Site.Params "css_modules" }}
            {{ range .Site.Params.css_modules }}
                <link rel="stylesheet" href="{{ . | absURL }}">
            {{ end }}
        {{ end }}

        {{/* NOTE: the Site's title, and if there is a page title, that is set too */}}
        <title>
            {{ block "title" . }}
                {{ .Site.Title | default "My cool new blog" }} | {{ if eq .Site.Title .Title }}{{ .Site.Params.subtitle | default "Bilberry Theme" }}{{ else }}{{ .Title }}{{ end }}
            {{ end }}
        </title>
    </head>
    <body class="bilberry-hugo-theme">
        {{ partial "topnav" . }}

        {{ partial "header" . }}

        <div class="main container">
            {{ block "main" . }}{{ end }}
        </div>

        {{ partial "footer" . }}

        {{ template "_internal/google_analytics_async.html" . }}

        {{ if and (isset .Site.Params "enable_mathjax") (eq .Site.Params.enable_mathjax true) }}
        {{ partial "mathjax" . }}
        {{ end }}

        <script src="{{ "dist/theme.js" | absURL }}" type="application/javascript"></script>

        {{ if isset .Site.Params "js_modules" }}
            {{ range .Site.Params.js_modules }}
                <script src="{{ . | absURL }}" type="application/javascript"></script>
            {{ end }}
        {{ end }}

        <script>
            $(document).ready(function() {
                $(".moment").each(function() {
                    $(this).text(
                        moment( $(this).text() )
                            .locale( {{ .Site.Language.Lang }} )
                            .format('LL')
                    );
                });

                $(".footnote-return sup").html({{ i18n "footnoteReturnText" }})
            })
        </script>

        {{ if and (isset .Site.Params "algolia_search") (eq .Site.Params.algolia_search true) }}
            {{ partial "algolia-search" . }}
        {{ end }}


    </body>
</html>
